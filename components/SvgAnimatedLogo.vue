<template>
  <div>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080" class="w-full">
      <title lang="en">AIGA Midwest Design Week logo</title>
      <g id="logo" ref="logo" style="isolation: isolate">
        <rect id="frame" width="1920" height="1080" class="fill-current text-offwhite" />

        <rect
          id="red"
          ref="red"
          x="797.95"
          y="337.95"
          width="324.09"
          height="324.09"
          style="mix-blend-mode: multiply"
          class="fill-current text-red"
        />

        <rect
          id="teal"
          ref="teal"
          x="797.95"
          y="337.95"
          width="324.09"
          height="324.09"
          transform="translate(634.73 -532.38) rotate(45)"
          style="mix-blend-mode: multiply"
          class="fill-current text-teal"
        />

        <rect
          id="blue"
          ref="blue"
          x="797.95"
          y="337.95"
          width="324.09"
          height="324.09"
          transform="translate(264.42 -329.32) rotate(22.5)"
          style="mix-blend-mode: multiply"
          class="fill-current text-blue"
        />

        <rect
          id="green"
          ref="green"
          x="797.95"
          y="337.95"
          width="324.09"
          height="324.09"
          transform="translate(1054.56 -578.27) rotate(67.5)"
          style="mix-blend-mode: multiply"
          class="fill-current text-green"
        />

        <path
          id="AIGA"
          ref="AIGA"
          d="M804.81,540.52c1.65-.85,5.36-1.79,9-4.41,1.27-.82,71.72-77.61,72.93-78.8a.61.61,0,0,1,1,.08c.27.59-.8,73.49-.75,74.66s.2,2.78,2.19,3.74,8.9,3.93,9.82,4.29c.34.12.11.5-.5.5H859.06s-.56-.13-.13-.31,13.15-4.31,14.09-4.6c2-.69,2.46-1.11,2.55-4.12s.87-20.1.87-21.16.34-3.18-2.48-3.37c-1.32-.11-5.67-.48-10.18-.61-5.39-.14-11,0-11.95,0-3.07.06-3.8.25-5.54,1.57-1.36,1-20.29,24.49-21,25.51s-.54,2.26,1.44,2.86,14.06,3.09,16.8,3.64c.4.1.32.58-.23.58H806.15a6.13,6.13,0,0,1-1.34-.05m68.57-37.21c2.67,0,3.4-1,3.4-2.6,0-1.1.31-21.14.31-23.4s-1.27-2.3-2.73-.63c-.76.81-20.9,22.46-22,23.69s-1.19,2.85,1.76,2.87l19.25.07M1022.13,540c.25-.15,5.19-1.93,7.71-3.89,1.3-.81,71.74-77.6,73-78.8.38-.31.81-.25,1,.09.29.58-.75,73.49-.74,74.65s.17,2.79,2.21,3.75c1.87.89,8.87,3.93,9.79,4.28.37.12.13.5-.46.5h-39.43s-.59-.12-.15-.31,13.15-4.3,14.09-4.6c1.94-.69,2.47-1.11,2.55-4.11s.86-20.1.86-21.17.33-3.18-2.49-3.37c-1.29-.11-5.64-.48-10.14-.6-5.41-.15-11,0-12,0-3,.06-3.78.25-5.49,1.56-1.36,1-20.31,24.49-21,25.51s-.57,2.26,1.42,2.86,14.06,3.1,16.84,3.64c.39.11.31.59-.25.59H1022.2c-.4,0-.34-.43-.07-.58m67.26-36.69c2.68,0,3.41-1,3.41-2.6,0-1.1.32-21.14.32-23.4s-1.26-2.3-2.74-.63c-.75.81-20.88,22.46-22,23.69s-1.21,2.85,1.76,2.87l19.22.07M916.73,459.93c-.48,0-.48.35,0,.52l10.7,3.67c1.8.65,1.95,2.2,1.59,3.74-.27,1.22-15.59,64.37-16,65.7-.59,1.88-2.66,2.63-3.5,3s-8.84,3.2-9.6,3.55-.28.5.41.5h36.55c.73,0,.92-.5.21-.75s-9.14-3.28-10.85-4-1.57-1.82-1.3-3.24c.21-1.11,15.11-63.9,15.49-65.13.52-3,4.95-4.12,7.33-4.89.7-.19,6.94-2,7.53-2.2s.14-.45-.27-.45H916.73M1025.6,488.8c0,.94.71.9,1,.06.23-.56,7.71-23,7.9-23.73.37-1.36.88-3.24-2.5-4.14-36.92-8.39-69.45,7.83-78.64,38.63-5.45,20.23,6.21,42.44,38,41.61,12.41-.34,25.18-5.27,26.26-5.65a3.41,3.41,0,0,0,2.28-1.94c.38-1,4.87-15,5.73-18s-2.25-2.68-3.47-2.68H992.77c-.64,0-1,.42-.19.65s16.49,4.45,18.27,4.93,1,2.22.94,2.72-3,12.72-3.41,13.73-.61,1.52-2.36,2a37.72,37.72,0,0,1-10.6,1c-44-3-35.75-56.46-1.71-71.71,11.52-5.37,27.12-4,30.38-3,2.37.76,2.37,2.05,2.41,4.14,0,.85-.92,20.78-.9,21.26"
          class="fill-current text-offwhite"
        />
      </g>
    </svg>

    <ul
      id="cities"
      ref="cities"
      class="flex justify-center absolute bottom-0 mb-8 lg:mb-48 text-xs lg:text-3xl font-mono font-bold uppercase tracking-wide lg:tracking-wider w-full text-center"
    >
      <li id="cin" ref="cin" class="text-blue">Cincinnati_</li>
      <li id="ind" ref="ind" class="text-green ml-2">Indianapolis_</li>
      <li id="lou" ref="lou" class="text-red ml-2">Louisville_</li>
      <li id="tol" ref="tol" class="text-teal ml-2">Toledo_</li>
    </ul>
  </div>
</template>

<script>
import { gsap } from 'gsap';

export default {
  name: 'SvgAnimatedLogo',
  data() {
    return {};
  },
  mounted() {
    this.animate();
  },

  methods: {
    animate() {
      const that = this;
      const tl = gsap.timeline({
        defaults: { duration: 0.8 },
        onComplete() {
          that.finish();
        },
      });

      gsap.to(this.$refs.green, {
        rotation: '+=360',
        repeat: -1,
        ease: 'none',
        duration: 10,
        transformOrigin: '50% 50%',
      });

      gsap.to(this.$refs.teal, {
        rotation: '+=360',
        repeat: -1,
        ease: 'none',
        duration: 10,
        transformOrigin: '50% 50%',
      });

      gsap.to(this.$refs.blue, {
        rotation: '+=360',
        repeat: -1,
        ease: 'none',
        duration: 10,
        transformOrigin: '50% 50%',
      });

      gsap.to(this.$refs.red, {
        rotation: '+=360',
        repeat: -1,
        ease: 'none',
        duration: 10,
        transformOrigin: '50% 50%',
      });

      tl.to(this.$refs.logo, { autoAlpha: 1 });
      // tl.from(this.$refs.green, { x: 1000, y: 500, rotation: 170, ease: 'back.out(1)', transformOrigin: '50% 50%' }, '+=1');
      tl.from(this.$refs.green, { x: 1440, y: 320, ease: 'back.out(1)' }, '+=1');
      // tl.from(this.$refs.teal, { x: -1000, y: 600, rotation: -60, ease: 'back.out(1)', transformOrigin: '50% 50%' }, '-=0.4');
      tl.from(this.$refs.teal, { x: -1020, y: -480, ease: 'back.out(1)' }, '-=0.4');
      // tl.from(this.$refs.blue, { x: 1000, y: -600, rotation: 30, ease: 'back.out(1)', transformOrigin: '50% 50%' }, '-=0.4');
      tl.from(this.$refs.blue, { x: 1280, y: -320, ease: 'back.out(1)' }, '-=0.4');
      // tl.from(this.$refs.red, { x: 500, y: 800, rotation: 150, ease: 'back.out(1)', transformOrigin: '50% 50%' }, '-=0.4');
      tl.from(this.$refs.red, { x: -1280, y: 320, ease: 'back.out(1)' }, '-=0.4');
      tl.from(this.$refs.cin, { autoAlpha: 0, y: 60, duration: 1 });
      tl.from(this.$refs.ind, { autoAlpha: 0, y: 60, duration: 1 }, '-=0.5');
      tl.from(this.$refs.lou, { autoAlpha: 0, y: 60, duration: 1 }, '-=0.5');
      tl.from(this.$refs.tol, { autoAlpha: 0, y: 60, duration: 1 }, '-=0.5');
      tl.to(this.$refs.logo, { autoAlpha: 0 }, '+=1');
      tl.to(this.$refs.cities, { autoAlpha: 0 }, '-=0.4');
    },
  },
  finish() {},
};
</script>

<style lang="postcss" scoped>
#logo {
  visibility: hidden;
}
#cin,
#ind,
#lou,
#tol {
  visibility: hidden;
}
</style>
